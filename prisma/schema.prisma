// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model UserProfile {
  id                 Int        @id @default(1)
  age                Int
  gender             String
  heightCm           Float
  weightKg           Float
  fitnessLevel       String
  primaryGoal        String
  weeklyWorkoutDays  Int
  availableEquipment String
  equipmentItems     String     @default("[]")
  dietaryPreferences String
  healthNotes        String?
  weightTargetKg     Float?
  weeklyWeightLossKg Float?
  createdAt          DateTime   @default(now())
  updatedAt          DateTime   @updatedAt
  activities         Activity[]
}

model Activity {
  id            Int         @id @default(autoincrement())
  name          String
  daysOfWeek    String      @default("[]")
  userProfileId Int         @default(1)
  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}

model WorkoutPlan {
  id        Int      @id @default(autoincrement())
  content   String
  createdAt DateTime @default(now())
}

model MealPlan {
  id        Int      @id @default(autoincrement())
  content   String
  createdAt DateTime @default(now())
}

model ChatMessage {
  id        Int      @id @default(autoincrement())
  role      String
  content   String
  createdAt DateTime @default(now())
}

model ProgressLog {
  id               Int      @id @default(autoincrement())
  date             DateTime @default(now())
  weightKg         Float?
  notes            String?
  workoutDone      Boolean  @default(false)
  caloriesConsumed Int?
  proteinG         Float?
  carbsG           Float?
  fatG             Float?
  liftingNotes     String?
}

model FoodLog {
  id          Int      @id @default(autoincrement())
  date        DateTime @default(now())
  mealType    String
  description String
  caloriesEst Int?
  proteinG    Float?
  carbsG      Float?
  fatG        Float?
  createdAt   DateTime @default(now())
}
